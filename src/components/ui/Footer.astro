---
import { Image } from "astro:assets";
import Logo from "../../../public/iotrealm.png";
import Facebook from "../../assets/facebook.svg";
import Linkedin from "../../assets/linkedin.svg";
import Twitter from "../../assets/twitter.svg";
import { loadTranslations, type Language } from '../../i18n/utils';
import { createLocalizedPath } from '../../i18n/utils';

export interface Props {
  currentLanguage?: Language;
}

const { currentLanguage = 'ja' } = Astro.props;
const translations = await loadTranslations(currentLanguage);

// デバッグ用：翻訳データの確認
console.log('Footer - Current language:', currentLanguage);
console.log('Footer - Translations footer:', translations.footer);

const logos = [
  { name: "Facebook", src: Facebook, link: "https://facebook.com" },
  { name: "Linkedin", src: Linkedin, link: "https://linkedin.com" },
  { name: "Twitter", src: Twitter, link: "https://twitter.com" },
];

const links = [
  { name: translations.nav.services, href: createLocalizedPath("/#service-overview", currentLanguage) },
  { name: translations.nav.pricing, href: createLocalizedPath("/#pricing", currentLanguage) },
  { name: translations.nav.solutions, href: createLocalizedPath("/#solutions", currentLanguage) },
  { name: translations.nav.industries, href: createLocalizedPath("/#industries", currentLanguage) },
  { name: translations.nav.cases, href: createLocalizedPath("/#cases", currentLanguage) },
  { name: translations.nav.faq, href: createLocalizedPath("/#faq", currentLanguage) },
];
---

<section class="sm:px-5">
  <div class="w-full max-w-[1240px] mx-auto">
    <div
      class="px-[15px] bg-dark text-gray pt-[40px] pb-[15px] lg:px-[60px] sm:rounded-t-[45px]"
    >
      <div>
        <div
          class="flex flex-col lg:flex-row gap-7 items-center justify-between"
        >
          <div class="flex items-center space-x-3">
            <a href={createLocalizedPath("/", currentLanguage)} class="flex items-center space-x-3">
              <Image src={Logo} alt="Logo for Kreatif Brand" class="h-12 w-auto" />
              <span class="text-2xl font-bold text-green-400 tracking-tight font-sans">IoTRealm</span>
            </a>
          </div>
          <ul class="flex flex-col sm:flex-row gap-5">
            {
              links.map((link) => {
                return (
                  <li class="text-center">
                    <a class="underline" href={link.href}>
                      {link.name}
                    </a>
                  </li>
                );
              })
            }
          </ul>
          <ul class="flex gap-5">
            {
              logos.map((logo) => {
                return (
                  <li>
                    <a href={logo.link} target="_blank">
                      <picture>
                        <Image src={logo.src} alt={logo.name} />
                      </picture>
                    </a>
                  </li>
                );
              })
            }
          </ul>
        </div>

        <div class="mt-[40px] mb-[30px]">
          <div class="flex flex-col lg:flex-row gap-8 justify-center items-center">
            <!-- Legal Links -->
            <div class="flex flex-col sm:flex-row gap-3 sm:gap-6 text-sm text-center">
              <a href={createLocalizedPath("/privacy", currentLanguage)} class="text-gray-400 hover:text-white transition-colors">
                {translations.footer?.privacyPolicy || (currentLanguage === 'ja' ? 'プライバシーポリシー' : currentLanguage === 'en' ? 'Privacy Policy' : currentLanguage === 'es' ? 'Política de Privacidad' : currentLanguage === 'ko' ? '개인정보처리방침' : '隐私政策')}
              </a>
              <span class="text-gray-600 hidden sm:inline">|</span>
              <a href={createLocalizedPath("/terms", currentLanguage)} class="text-gray-400 hover:text-white transition-colors">
                {translations.footer?.termsOfUse || (currentLanguage === 'ja' ? '利用規約' : currentLanguage === 'en' ? 'Terms of Use' : currentLanguage === 'es' ? 'Términos de Uso' : currentLanguage === 'ko' ? '이용약관' : '使用条款')}
              </a>
              <span class="text-gray-600 hidden sm:inline">|</span>
              <a href="https://cor-jp.com/contact/" target="_blank" class="text-gray-400 hover:text-white transition-colors">
                {translations.footer?.contact || (currentLanguage === 'ja' ? 'お問い合わせ' : currentLanguage === 'en' ? 'Contact Us' : currentLanguage === 'es' ? 'Contáctanos' : currentLanguage === 'ko' ? '문의하기' : '联系我们')}
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="h-[1px] bg-gray mb-5"></div>
      <div
        class="flex flex-col lg:flex-row h-20 justify-center mt-4 text-center"
      >
        <span class="text-center">
          <a
            class="underline"
            href="https://cor-jp.com"
            target="_blank">@
          Cor.inc</a> {translations.footer?.companyInfo || (currentLanguage === 'ja' ? 'による共創型AI・IoTソリューション開発' : currentLanguage === 'en' ? 'Co-creation AI/IoT solution development by' : currentLanguage === 'es' ? 'Desarrollo de soluciones AI/IoT de co-creación por' : currentLanguage === 'ko' ? 'AI/IoT 솔루션 공동 개발' : '共创型AI/IoT解决方案开发')}
        </span>
      </div>
    </div>
  </div>
</section>
