---
import Hero from "@/components/sections/Hero.astro";
import ServiceOverview from "@/components/sections/ServiceOverview.astro";
import Pricing from "@/components/sections/Pricing.astro";
import Solutions from "@/components/sections/Solutions.astro";
import Differentiation from "@/components/sections/Differentiation.astro";
import Process from "@/components/sections/Process.astro";
import Industries from "@/components/sections/Industries.astro";
import Cases from "@/components/sections/Cases.astro";
import FutureDevelopment from "@/components/sections/FutureDevelopment.astro";
import FAQ from "@/components/sections/FAQ.astro";
import CTA from "@/components/sections/CTA.astro";
import MainLayout from "@/layouts/MainLayout.astro";
import { loadTranslations, type Language } from '../../i18n/utils';

export const prerender = true;

export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'es' } },
    { params: { lang: 'zh' } },
  ];
}

const { lang } = Astro.params;
const currentLanguage = lang as Language;
const translations = await loadTranslations(currentLanguage);
const currentPath = `/${lang}`;
---

<MainLayout
  title={`IoTRealm - ${translations.hero.title}`}
  description={translations.hero.subtitle}
  currentLanguage={currentLanguage}
  currentPath={currentPath}
>
  <Hero currentLanguage={currentLanguage} />
  <ServiceOverview currentLanguage={currentLanguage} />
  <Pricing currentLanguage={currentLanguage} />
  <Solutions currentLanguage={currentLanguage} />
  <Differentiation currentLanguage={currentLanguage} />
  <Process currentLanguage={currentLanguage} />
  <Industries currentLanguage={currentLanguage} />
  <Cases currentLanguage={currentLanguage} />
  <FutureDevelopment currentLanguage={currentLanguage} />
  <FAQ currentLanguage={currentLanguage} />
  <CTA currentLanguage={currentLanguage} />
</MainLayout>